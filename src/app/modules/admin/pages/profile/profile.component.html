<div class="flex flex-col flex-auto min-w-0" *ngIf="!isLoading">
    <!-- Header -->
    <div class="flex flex-col shadow bg-card">
        <!-- Cover image -->
        <div>
            <img class="h-40 lg:h-80 object-cover" src="assets/images/certificates/school_cover.jpg" alt="Cover image" />
        </div>

        <!-- User info -->
        <div class="flex flex-col flex-0 lg:flex-row items-center max-w-5xl w-full mx-auto px-8 lg:h-18 bg-card">
            <!-- Avatar -->
            <div class="-mt-26 lg:-mt-22 rounded-full">
                <!-- Ensure getProfilePicture() returns the correct URL -->
                <img class="w-32 h-32 rounded-full ring-4 ring-bg-card" [src]="getProfilePicture()" alt="User avatar" />
            </div>

            <!-- Details -->
            <div class="flex flex-col items-center lg:items-start mt-4 lg:mt-0 lg:ml-8">
                <!-- Display user information once loaded -->
                <!-- <div class="text-lg font-bold leading-none">{{ user.FirstName }} {{ user.LastName }}</div>
                <div class="text-secondary">{{ user.IdCountry }}</div> -->
                <div class="text-lg font-bold leading-none">{{ getItemFromLocalStorage('FirstName') }} {{ getItemFromLocalStorage('LastName') }}</div>
                <!-- <div class="text-secondary">{{ user.IdCountry }}</div> -->
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="flex flex-auto justify-center w-full max-w-5xl mx-auto p-6 sm:p-8">
        <div class="hidden lg:flex flex-col items-start mr-8">
            <div class="flex mt-8 space-x-8">
                <!-- About me -->
                <fuse-card class="flex flex-col max-w-80 w-full p-8">
                    <div class="text-2xl font-semibold leading-tight">
                        About Me
                    </div>
                    <div class="mt-4">
                      I am a Computer Science graduate student, nice to meet you.
                    </div>
                    <hr class="w-full border-t my-6" />
                    <div class="flex flex-col">
                        <div class="flex items-center">
                            <mat-icon class="icon-size-5 mr-3" [svgIcon]="'heroicons_solid:map-pin'"></mat-icon>
                            <!-- <span class="leading-none">{{ user.IdCountry }}</span> -->
                            <span class="leading-none">Sfax, Tunisia</span>
                        </div>
                        <div class="flex items-center mt-4">
                            <mat-icon class="icon-size-5 mr-3" [svgIcon]="'heroicons_solid:cake'"></mat-icon>
                            <!-- <span class="leading-none">{{ user.BirthDate }}</span> -->
                            <span class="leading-none">08/02/2002</span>
                        </div>
                    </div>
                    <a class="px-6 mt-8" mat-flat-button [color]="'primary'" [routerLink]="['dashboard/settings/', user?.IdUser]">
                        Edit profile
                    </a>
                </fuse-card>
            </div>
        </div>

        <!-- Certificates & Badges -->
        <div class="hidden lg:flex flex-col items-start mr-8">
            <!-- All columns -->
            <div class="flex mt-8 space-x-8">
                <!-- Certificates -->
                <fuse-card class="flex flex-col max-w-80 w-full px-8 pt-6 pb-4">
                    <div class="text-2xl font-semibold leading-tight">
                        Certificates
                    </div>
                    <!-- <div class="flex flex-wrap justify-between mt-6">
                        <img class="w-20 h-20 mb-4" src="assets/images/certificates/angular_certif.png" alt="Angular Certificate cover image" />
                        <img class="w-20 h-20 mb-4" src="assets/images/certificates/Agile_certif.png" alt="Agile Certificate cover image" />
                    </div> -->
                    <div class="flex items-center mt-6 -mx-3">
                        <!-- <a class="px-3" mat-button [color]="'primary'" [routerLink]="['mymeets/view/1']">
                            View all certificates
                        </a> -->
                        You haven't earned any certificates yet.
                    </div>
                </fuse-card>

                <!-- Badges -->
                <fuse-card class="flex flex-col max-w-80 w-full px-8 pt-6 pb-4">
                    <div class="flex items-center justify-between">
                        <div class="text-2xl font-semibold leading-tight">
                            Badges
                        </div>
                    </div>
                    <div class="flex flex-col">
                        <!-- <div class="flex flex-wrap justify-between mt-6">
                            <img class="w-16 h-16 rounded object-cover mb-4" src="assets/images/badges/challenge.png" alt="Card cover image" />
                            <img class="w-16 h-16 rounded object-cover mb-4" src="assets/images/badges/skillMastery.png" alt="Card cover image" />
                            <img class="w-16 h-16 rounded object-cover mb-4" src="assets/images/badges/Engagement.png" alt="Card cover image" />
                            <div class="flex items-center mt-6 -mx-3">
                                <a class="px-3" mat-button [color]="'primary'" [routerLink]="['./']">
                                    View all certificates
                                </a>
                            </div>
                        </div> -->
                        <div class="flex items-center mt-6 -mx-3">
                            You haven't earned any badges yet.
                        </div>
                    </div>
                </fuse-card>
            </div>
        </div>
    </div>
</div>

<!-- Loading Spinner or Placeholder -->
<div *ngIf="isLoading" class="flex justify-center items-center h-screen">
    <mat-spinner diameter="32"></mat-spinner>
    <!-- Add additional loading indicators or text here if needed -->
</div>
